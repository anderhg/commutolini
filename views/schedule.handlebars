<!doctype html>

<html>
<head>
	<title>Commutolini</title>	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="/css/introHCI.css" rel="stylesheet">
	<link href="/dist/bootstrap-clockpicker.css" rel="stylesheet">
	<link href="/dist/bootstrap-clockpicker.min.css" rel="stylesheet">
	<link href="/dist/jquery-clockpicker.css" rel="stylesheet">
	<link href="/dist/jquery-clockpicker.min.css" rel="stylesheet">
	<link href="/src/clockpicker.css" rel="stylesheet">
	<link href="/src/standalone.css" rel="stylesheet">
	<!-- this is a comment in HTML -->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->        
</head>

<body>

	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/dist/bootstrap-clockpicker.js"></script>
	<script src="/dist/bootstrap-clockpicker.min.js"></script>
	<script src="/dist/jquery-clockpicker.js"></script>
	<script src="/dist/jquery-clockpicker.min.js"></script>
	<script src="/src/clockpicker.js"></script>



	<div class="container">

		<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/homepage">Commutolini</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/homepage"><i class="glyphicon glyphicon-home"></i>Home<span class="sr-only">(current)</span></a></li>
        <li><a href="/schedule"><i class="glyphicon glyphicon-list-alt"></i>Schedule<span class="sr-only">(current)</span></a></li>
        <li><a href="/profile"><i class="glyphicon glyphicon-user"></i>Profile<span class="sr-only">(current)</span></a></li>


      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><p class="navbar-text">&nbsp&nbsp&nbspSigned in as <a href="/profile" class="navbar-link">{{currentUser.firstName}} {{currentUser.lastName}}</a></p></li>
        <li><a href="#" id="logoff"><i class="glyphicon glyphicon-off"></i>Log off&nbsp&nbsp&nbsp</a></li>
      </ul>

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
		<div id='scheduleHeader'>
			<h2> Edit Schedule </h2>
			<p>Edit your schedule for the different weekdays, and let people know how many seats you have available for your commute.<p/>
		</div>

		<div class="row schedule">
            <div class="col-md-12">
                <div class="form-group">
                    <label for="homeAddress"><i class="glyphicon glyphicon-home"></i>{{currentUser.home}}</label>
                </div>

                <div class="form-group">
                    <label for="destinationAddress"><i class="glyphicon glyphicon-flag"></i>{{currentUser.destination}}</label>
                </div>

                <div class="form-group">
                	<button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">Edit Adresses</button>
            	</div>

                <div class="collapse" id="collapseExample">
	                <div class="form-group">
		                <form class="form-inline">
						  <div class="form-group">
						  	<label for="inHome"><i class="glyphicon glyphicon-home"></i>Home address:</label>
						    <select class="form-control" id="inHome">
					    		<option>Pacific Beach</option>
						    	<option>La Jolla</option>
							    <option>Downtown</option>
							  </select>
						  </div>
						  <div class="form-group">
						  	<label for="inDest"><i class="glyphicon glyphicon-flag"></i>Destination:</label>
						    <select class="form-control" id="inDest">
					    		<option>UCSD</option>
						    	<option>SDSU</option>
							    <option>USD</option>
							  </select>
						  </div>
						</form>   
					</div>
				</div>  
            </div>
        </div>

   
     	{{#if accordion}}
	     	<div class="row">
		        <div class="col-md-12">
		            <div class="panel-group" id="accordion">
		                <div class="panel panel-default">
		                	{{#with (lookup schedule currentUser.username)}}
			    				{{#each days}}
				                    <div class="panel-heading">
				                        <h4 class="panel-title">
				                            <a data-toggle="collapse" data-parent="#accordion" href="#{{id}}">{{day}}</a>
				                        </h4>
				                    </div>
				                    <div id="{{id}}" class="panel-collapse collapse">
				                        <div class="panel-body">
				                            <div class="row">
				                                <div class="col-md-12">
				                                    <div class="form-group">
				                                        <div class="input-group clockpicker" data-align="top" data-autoclose="true">
														    <input type="text" class="form-control" id="{{code}}Start" value="{{start}}">
														    <span class="input-group-addon">
														        <span class="glyphicon glyphicon-time"></span>
														    </span>
														</div>
														<script type="text/javascript">
															$('.clockpicker').clockpicker();
														</script>
				                                    </div>
				                                    <div class="form-group">
				                                        <div class="input-group clockpicker" data-align="top" data-autoclose="true">
														    <input type="text" class="form-control" id="{{code}}End" value="{{end}}">
														    <span class="input-group-addon">
														        <span class="glyphicon glyphicon-time"></span>
														    </span>
														</div>
														<script type="text/javascript">
															$('.clockpicker').clockpicker();
														</script>
				                                    </div>
				                                    <div class="form-group">
														  <label for="sel1">Available seats:</label>
														  <select class="form-control" id="{{code}}Seats" value="{{seats}}">
														  	<option>0</option>
												    		<option>1</option>
													    	<option>2</option>
														    <option>3</option>
														    <option>4</option>
														    <option>5</option>
														    <option>6</option>
														  </select>
													</div>
				                                </div>
				                            </div>
				                        </div>
				                    </div>
			                    {{/each}}
		                    {{/with}}
		                </div>
		            </div>	            
		        </div>
		    </div>
		    <div id="yesNo">
		        <p>Do you like the layout of this page?</p>
		        <a href="#" class="btn btn-primary btn-sm" id="accordionYes"><span class="glyphicon glyphicon-thumbs-up"></span>Yes</a>
		        <a href="#" class="btn btn-danger btn-sm" id="accordionNo"><span class="glyphicon glyphicon-thumbs-down"></span>No</a>
		    </div>
		    {{else}}
		     	<div class="row">
		        <div class="col-md-12">
		            <div class="panel-group" id="accordion">
		                <div class="panel panel-default">
		                	{{#with (lookup schedule currentUser.username)}}
			    				
				                    <table class="table" id='info{{username}}'>
						              <thead>
						                <tr>
						                  <th></th>		
						                  <th><p style="font-weight:bold">Start <i class="glyphicon glyphicon-arrow-right" id="rightArrow"></i></p></th>
						                  <th><p style="font-weight:bold">End <i class="glyphicon glyphicon-arrow-left" id="leftArrow"></i></p></th>
						                  <th><p style="font-weight:bold">Seats <i class="glyphicon glyphicon-user" id="people"></i></p></th>
						                </tr>
						              </thead>
						              <tbody>
						              	{{#each days}}
						                <tr>
						                  <td><p style="font-weight:bold">{{day}}</p>
						                  </td>		
						                  <td><div class="input-group clockpicker" data-autoclose="true">
												<input type="text" class="form-control" id="{{code}}Start" value="{{start}}">
<!-- 													<span class="input-group-addon">
														    <span class="glyphicon glyphicon-time"></span>
												    </span> -->
												</div>
												<script type="text/javascript">
													$('.clockpicker').clockpicker(
														{
															placement: 'top',
															align: 'middle'
														});
												</script>
										  </td>
						                  <td><div class="input-group clockpicker"  data-placement="top" data-align="middle" data-autoclose="true">
												<input type="text" class="form-control" id="{{code}}End" value="{{end}}">
<!-- 													<span class="input-group-addon">
														    <span class="glyphicon glyphicon-time"></span>
												    </span> -->
												</div>
												<script type="text/javascript">
													$('.clockpicker').clockpicker();
												</script>
										 </td>
										 <td>
											  <select class="form-control" id="{{code}}Seats" value="{{seats}}">
											  	<option>0</option>
									    		<option>1</option>
										    	<option>2</option>
											    <option>3</option>
											    <option>4</option>
											    <option>5</option>
											    <option>6</option>
											  </select>
										 </td>																			
						                </tr>
						                {{/each}}
						              </tbody>
						            </table> 
			                  
		                    {{/with}}
		                </div>
		            </div>	            
		        </div>
		    </div>
		    <div id="yesNo">
		        <p><br>Do you like the layout of this page?</p>
		        <a href="#" class="btn btn-primary btn-sm" id="tableYes"><span class="glyphicon glyphicon-thumbs-up"></span>Yes</a>
		        <a href="#" class="btn btn-danger btn-sm" id="tableNo"><span class="glyphicon glyphicon-thumbs-down"></span>No</a>
		    </div>
	    {{/if}}


		<a href="#" class="btn btn-success btn-sm" id="saveSchedule"><span class="glyphicon glyphicon-floppy-disk"></span>Save</a>

		<script src="/js/introHCI.js"></script>

	</div>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-93157930-1', 'auto');
	  ga('send', 'pageview');

	</script>
</body>
</html>